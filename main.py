from fastapi import FastAPI, HTTPException

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
app = FastAPI()

# üìã –î–∞–Ω–Ω—ã–µ –æ —Ä–∞–±–æ—Ç–Ω–∏–∫–∞—Ö
workers = [
    {"ID": 1, "–§–ò–û": "–ò–≤–∞–Ω–æ–≤", "–ù–æ–º–µ—Ä –±—Ä–∏–≥–∞–¥—ã": 1, "–ó–ü": 10000, "–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è": "–ß–µ—Ä–Ω–æ–≤–∞—è –æ—Ç–¥–µ–ª–∫–∞"},
    {"ID": 2, "–§–ò–û": "–ü–µ—Ç—Ä–æ–≤", "–ù–æ–º–µ—Ä –±—Ä–∏–≥–∞–¥—ã": 2, "–ó–ü": 12000, "–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è": "–ß–∏—Å—Ç–æ–≤–∞—è –æ—Ç–¥–µ–ª–∫–∞"},
    {"ID": 3, "–§–ò–û": "–°–∏–¥–æ—Ä–æ–≤", "–ù–æ–º–µ—Ä –±—Ä–∏–≥–∞–¥—ã": 1, "–ó–ü": 16000, "–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è": "–ë—Ä–∏–≥–∞–¥–∏—Ä"},
    {"ID": 4, "–§–ò–û": "–°–µ—Ä–≥–µ–µ–≤", "–ù–æ–º–µ—Ä –±—Ä–∏–≥–∞–¥—ã": 1, "–ó–ü": 20000, "–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è": "–ü—Ä–æ—Ä–∞–±"},
    {"ID": 5, "–§–ò–û": "–°–µ—Ä–≥–µ–µ–≤", "–ù–æ–º–µ—Ä –±—Ä–∏–≥–∞–¥—ã": 2, "–ó–ü": 20000, "–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è": "–ü—Ä–æ—Ä–∞–±"},
]

# üìç –≠–Ω–¥–ø–æ–∏–Ω—Ç 1: –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤ –ø–æ –Ω–æ–º–µ—Ä—É –±—Ä–∏–≥–∞–¥—ã
@app.get("/api/v1/team/{team_id}/WorkerList")
def get_team_workers(team_id: int):
    """
    –≠–Ω–¥–ø–æ–∏–Ω—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç –∫ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π –±—Ä–∏–≥–∞–¥–µ.
    :param team_id: –ù–æ–º–µ—Ä –±—Ä–∏–≥–∞–¥—ã
    :return: –°–ø–∏—Å–æ–∫ —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤ –±—Ä–∏–≥–∞–¥—ã –∏–ª–∏ –æ—à–∏–±–∫–∞ 404, –µ—Å–ª–∏ –±—Ä–∏–≥–∞–¥–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
    """
    team_workers = [worker for worker in workers if worker["–ù–æ–º–µ—Ä –±—Ä–∏–≥–∞–¥—ã"] == team_id]
    if not team_workers:
        raise HTTPException(status_code=404, detail=f"–ë—Ä–∏–≥–∞–¥–∞ —Å –Ω–æ–º–µ—Ä–æ–º {team_id} –Ω–µ –Ω–∞–π–¥–µ–Ω–∞")
    return {"–ù–æ–º–µ—Ä –±—Ä–∏–≥–∞–¥—ã": team_id, "–†–∞–±–æ—Ç–Ω–∏–∫–∏": team_workers}


# üìç –≠–Ω–¥–ø–æ–∏–Ω—Ç 2: –ü–æ–ª—É—á–∏—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ä–∞–±–æ—Ç–Ω–∏–∫–∞ –ø–æ –µ–≥–æ ID
@app.get("/api/v1/worker/{worker_id}")
def get_worker(worker_id: int):
    """
    –≠–Ω–¥–ø–æ–∏–Ω—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º —Ä–∞–±–æ—Ç–Ω–∏–∫–µ –ø–æ –µ–≥–æ ID.
    :param worker_id: ID —Ä–∞–±–æ—Ç–Ω–∏–∫–∞
    :return: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–∞–±–æ—Ç–Ω–∏–∫–µ –∏–ª–∏ –æ—à–∏–±–∫–∞ 404, –µ—Å–ª–∏ —Ä–∞–±–æ—Ç–Ω–∏–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω
    """
    worker = next((worker for worker in workers if worker["ID"] == worker_id), None)
    if not worker:
        raise HTTPException(status_code=404, detail=f"–†–∞–±–æ—Ç–Ω–∏–∫ —Å ID {worker_id} –Ω–µ –Ω–∞–π–¥–µ–Ω")
    return worker


# üìç –≠–Ω–¥–ø–æ–∏–Ω—Ç 3 (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤
@app.get("/api/v1/workers")
def get_all_workers():
    """
    –≠–Ω–¥–ø–æ–∏–Ω—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤.
    :return: –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤
    """
    return {"–†–∞–±–æ—Ç–Ω–∏–∫–∏": workers}
